<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>미티어 에 대하여 | Dev Study</title>
    <meta name="description" content="dev study blog">
    
    
    <link rel="preload" href="/devstudy/assets/css/0.styles.dac03a01.css" as="style"><link rel="preload" href="/devstudy/assets/js/app.fccfb1f1.js" as="script"><link rel="preload" href="/devstudy/assets/js/4.24fb08a8.js" as="script"><link rel="prefetch" href="/devstudy/assets/js/10.dff57a07.js"><link rel="prefetch" href="/devstudy/assets/js/11.90cabe7e.js"><link rel="prefetch" href="/devstudy/assets/js/12.653a6f0a.js"><link rel="prefetch" href="/devstudy/assets/js/13.fae6c5f0.js"><link rel="prefetch" href="/devstudy/assets/js/14.71ac308a.js"><link rel="prefetch" href="/devstudy/assets/js/15.7f7d81ac.js"><link rel="prefetch" href="/devstudy/assets/js/16.def2a4fd.js"><link rel="prefetch" href="/devstudy/assets/js/17.b0a5d87c.js"><link rel="prefetch" href="/devstudy/assets/js/18.a3edeaea.js"><link rel="prefetch" href="/devstudy/assets/js/19.398bb8dc.js"><link rel="prefetch" href="/devstudy/assets/js/2.a249846a.js"><link rel="prefetch" href="/devstudy/assets/js/20.0101abde.js"><link rel="prefetch" href="/devstudy/assets/js/21.2341ecc5.js"><link rel="prefetch" href="/devstudy/assets/js/22.1625976b.js"><link rel="prefetch" href="/devstudy/assets/js/23.1431ce35.js"><link rel="prefetch" href="/devstudy/assets/js/24.4223c62d.js"><link rel="prefetch" href="/devstudy/assets/js/25.7ec87ac8.js"><link rel="prefetch" href="/devstudy/assets/js/26.91dbf76a.js"><link rel="prefetch" href="/devstudy/assets/js/27.d7030d38.js"><link rel="prefetch" href="/devstudy/assets/js/28.c5968c26.js"><link rel="prefetch" href="/devstudy/assets/js/3.5c531c6a.js"><link rel="prefetch" href="/devstudy/assets/js/5.025a02dd.js"><link rel="prefetch" href="/devstudy/assets/js/6.cad38649.js"><link rel="prefetch" href="/devstudy/assets/js/7.8534a7d8.js"><link rel="prefetch" href="/devstudy/assets/js/8.5c82d821.js"><link rel="prefetch" href="/devstudy/assets/js/9.c91781b1.js">
    <link rel="stylesheet" href="/devstudy/assets/css/0.styles.dac03a01.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/devstudy/" class="home-link router-link-active"><!----> <span class="site-name">Dev Study</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/devstudy/" class="nav-link">Home</a></div><div class="nav-item"><a href="/devstudy/yukyung/" class="nav-link">김유경</a></div><div class="nav-item"><a href="/devstudy/jju/" class="nav-link">황주리</a></div><div class="nav-item"><a href="/devstudy/ma/" class="nav-link">마성민</a></div><div class="nav-item"><a href="/devstudy/been/" class="nav-link router-link-active">백승빈</a></div><div class="nav-item"><a href="/devstudy/swchoi/" class="nav-link">최승원</a></div><div class="nav-item"><a href="/devstudy/jjong/" class="nav-link">윤종원</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">강은지</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/devstudy/oriri/javascript/" class="nav-link">JAVASCRIPT</a></li><li class="dropdown-item"><!----> <a href="/devstudy/oriri/java/" class="nav-link">JAVA</a></li></ul></div></div><div class="nav-item"><a href="/devstudy/rnmkr/" class="nav-link">박현우</a></div> <a href="https://github.com/devstudyy/devstudy" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/devstudy/" class="nav-link">Home</a></div><div class="nav-item"><a href="/devstudy/yukyung/" class="nav-link">김유경</a></div><div class="nav-item"><a href="/devstudy/jju/" class="nav-link">황주리</a></div><div class="nav-item"><a href="/devstudy/ma/" class="nav-link">마성민</a></div><div class="nav-item"><a href="/devstudy/been/" class="nav-link router-link-active">백승빈</a></div><div class="nav-item"><a href="/devstudy/swchoi/" class="nav-link">최승원</a></div><div class="nav-item"><a href="/devstudy/jjong/" class="nav-link">윤종원</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">강은지</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/devstudy/oriri/javascript/" class="nav-link">JAVASCRIPT</a></li><li class="dropdown-item"><!----> <a href="/devstudy/oriri/java/" class="nav-link">JAVA</a></li></ul></div></div><div class="nav-item"><a href="/devstudy/rnmkr/" class="nav-link">박현우</a></div> <a href="https://github.com/devstudyy/devstudy" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading open"><span>DOCUMENT</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/devstudy/been/meteor.html" class="active sidebar-link">미티어 에 대하여</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/devstudy/been/meteor.html#미티어-란" class="sidebar-link">미티어 란?</a></li></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="미티어-에-대하여"><a href="#미티어-에-대하여" aria-hidden="true" class="header-anchor">#</a> 미티어 에 대하여</h1> <h2 id="미티어-란"><a href="#미티어-란" aria-hidden="true" class="header-anchor">#</a> 미티어 란?</h2> <p>미티어의 특징
미티어는 브라우저 / 서버 / 데이터베이스에 이르기까지 자바스크립트로 구성된 풀스텍 플랫폼으로 커맨드라인 한 줄만으로 빠르게 개발 환경을 구성할수 있는 풀스텍 자바스크립트 플랫폼이다. 미티어의 특징을 살펴 보면 아래와 같다.</p> <p>빠른 개발환경 구성 : 미티어는 커맨드라인에서 입력하는 한 줄의 프로젝트 생성 명령 만으로 브라우저/서버/데이터베이스 까지 개발 환경 구성이 한번에 끝난다. 내장된 몽고디비(www.mongodb.com)는 JSON(JavaScript Object Notation, www.json.org)을 저장하는 데이터베이스로 요즘 주목 받고 있는 NoSQL 데이터베이스 중 하나이다. 실시간 데이터 동기화
발행/구독(publish/subscribe)이라는 구조로 브라우저와 서버 간의 데이터 교환이 실시간으로 이루어진다. 따라서 채팅,sns 같은 실시간이 필요한 애플리케이션을 쉽게 작성할 수 있다. 짧은 코드로 말이다.
풀스택 자바스크립트 클라이언트와 서버를 지나 데이터베이스에 이르기까지 모두 자바스크립트만으로 구현한다. 데이터는 클라이언트에서 작성된 데이터 포멧을 몽고디비까지 같은 형태로 저장이 가능하다. 그야말로 풀스택 자바 스크립트 플렛폼이다. 모바일 통합 개발환경 미티어에서 개발한 앱은 데스크탑 뿐만 아니라 Android, iOS에서 사용 할 수 있는 패키지로 배포 할 수 있다. 특히 모바일 환경은 내장된 코드로바(http://cordova.apache.org/)를 통하여 하이브리드 앱 형태로 배포하므로 별도의 컴파일 환경을 구축할 필요가 없이 미티어 만으로 앱 제작이 가능하다. 풍부한 패키지 미티어는 프레임워크가 아니며, atmosphere(http://atmosphere.meteor.com)라는 미티어 패키지 저장소가 존재한다. 여기서 여러분이 좋아하는 프레임워크들을 프론트 부터 백엔드 까지 골라서 사용 할수 있다.</p> <p>기본적으로 내부의 mongo DB 를 사용하지만 사용에 따라 외부 mysql, mongo DB를 사용할 수 있다.</p> <p>참고 http://webframeworks.kr/getstarted/meteorjs/</p> <h4 id="_1-설치하기"><a href="#_1-설치하기" aria-hidden="true" class="header-anchor">#</a> 1. 설치하기</h4> <p>window 패키지 관리 소프트웨어인 Chocolatey 를 다운로드 후
(관리자 권한으로 cmd를 열어 @&quot;%SystemRoot%\System32\WindowsPowerShell\v1.0\powershell.exe&quot; -NoProfile -InputFormat None -ExecutionPolicy Bypass -Command &quot;iex ((New-Object System.Net.WebClient).DownloadString('https://chocolatey.org/install.ps1'))&quot; &amp;&amp; SET &quot;PATH=%PATH%;%ALLUSERSPROFILE%\chocolatey\bin&quot; 를 입력시 다운로드가 진행 된다 .)
choco install meteor 실행으로 미티어 다운로드 (리눅스 인 경우 &quot;curl https://install.meteor.com/ | sh&quot; 명령어로 다운)
js 기반이기 때문에 설치가 가볍다X 쉽다.</p> <h4 id="_2-시작하기"><a href="#_2-시작하기" aria-hidden="true" class="header-anchor">#</a> 2. 시작하기</h4> <p>meteor를 설치 후 meteor create 프로젝트명 (프로젝트 생성)-&gt; meteor run (실행) 미티어가 실행 되는데
실행 메시지를 보면 내부프록시 -&gt; 몽고DB -&gt; App 순으로 시작된다.
프로젝트 위치에서 meteor mongo 를 치면 mongo db 를 볼 수 있다.</p> <p>기본 설치시
.meteor (빌드 파일 위치)
client (클라이언트 소스)
node_modules (node 패키지 위치)
server (서버 소스 위치)
package.json
로 구성되는데
소스 작성은 client, server가 주를 이룬다.</p> <h4 id="_3-기본-소스-설명"><a href="#_3-기본-소스-설명" aria-hidden="true" class="header-anchor">#</a> 3. 기본 소스 설명</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code>
client main<span class="token punctuation">.</span>html

<span class="token comment">//&lt;template name=&quot;hello&quot;&gt; 이 {{&gt; hello}}에 들어간다 템플릿 내에 {{counter}} 는 js에서 선언한 변수</span>
<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>meteorApp<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Welcome to Meteor<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>

  <span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token operator">&gt;</span> hello<span class="token punctuation">}</span><span class="token punctuation">}</span>
  <span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token operator">&gt;</span> info<span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>template name<span class="token operator">=</span><span class="token string">&quot;hello&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>button<span class="token operator">&gt;</span>Click Me<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>You've pressed the button <span class="token punctuation">{</span><span class="token punctuation">{</span>counter<span class="token punctuation">}</span><span class="token punctuation">}</span> times<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>template name<span class="token operator">=</span><span class="token string">&quot;info&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>Learn Meteor<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;https://www.meteor.com/try&quot;</span> target<span class="token operator">=</span><span class="token string">&quot;_blank&quot;</span><span class="token operator">&gt;</span>Do the Tutorial<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;http://guide.meteor.com&quot;</span> target<span class="token operator">=</span><span class="token string">&quot;_blank&quot;</span><span class="token operator">&gt;</span>Follow the Guide<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;https://docs.meteor.com&quot;</span> target<span class="token operator">=</span><span class="token string">&quot;_blank&quot;</span><span class="token operator">&gt;</span>Read the Docs<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;https://forums.meteor.com&quot;</span> target<span class="token operator">=</span><span class="token string">&quot;_blank&quot;</span><span class="token operator">&gt;</span>Discussions<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>


client main<span class="token punctuation">.</span>js

<span class="token comment">//import</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Template <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'meteor/templating'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ReactiveVar <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'meteor/reactive-var'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token string">'./main.html'</span><span class="token punctuation">;</span>

<span class="token comment">// Template.hello는 html에서 어떤 template에서 동작하는지 지정.</span>
<span class="token comment">// 이벤트 함수는 onCreated, onRendered, onDestroyed 등이 있다</span>
<span class="token comment">// helpers는 변수 전달 역할 event는 클라이언트와 서버간의 이벤트 전송</span>
Template<span class="token punctuation">.</span>hello<span class="token punctuation">.</span><span class="token function">onCreated</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">helloOnCreated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// counter starts at 0</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>counter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ReactiveVar</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Template<span class="token punctuation">.</span>hello<span class="token punctuation">.</span><span class="token function">helpers</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Template<span class="token punctuation">.</span><span class="token function">instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>counter<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Template<span class="token punctuation">.</span>hello<span class="token punctuation">.</span><span class="token function">events</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token string">'click button'</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span> instance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// increment the counter when button is clicked</span>
    instance<span class="token punctuation">.</span>counter<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>instance<span class="token punctuation">.</span>counter<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>



server main<span class="token punctuation">.</span>js

<span class="token keyword">import</span> <span class="token punctuation">{</span> Meteor <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'meteor/meteor'</span><span class="token punctuation">;</span>

Meteor<span class="token punctuation">.</span><span class="token function">startup</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// code to run on server at startup</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


</code></pre></div><h4 id="_4-게시판"><a href="#_4-게시판" aria-hidden="true" class="header-anchor">#</a> 4. 게시판</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code>
borderCollection <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Mongo<span class="token punctuation">.</span>Collection</span><span class="token punctuation">(</span><span class="token string">&quot;border&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Template<span class="token punctuation">.</span>border<span class="token punctuation">.</span><span class="token function">helpers</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> borderCollection<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// tmpl으로 html 오브젝트를 찾을 수 있다.</span>
Template<span class="token punctuation">.</span>border<span class="token punctuation">.</span><span class="token function">events</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token string">&quot;click button[name=remove]&quot;</span> <span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt <span class="token punctuation">,</span> tmpl</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        borderCollection<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">{</span>_id<span class="token punctuation">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>_id<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 게시판 insert </span>
Template<span class="token punctuation">.</span>borderInsert<span class="token punctuation">.</span><span class="token function">events</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token string">&quot;click button[name=insert]&quot;</span> <span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt <span class="token punctuation">,</span> tmpl</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

    	<span class="token keyword">var</span> noVal <span class="token operator">=</span> tmpl<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">&quot;input[name=no]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    	<span class="token keyword">var</span> nameVal <span class="token operator">=</span> tmpl<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">&quot;input[name=name]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    	<span class="token keyword">var</span> emailVal <span class="token operator">=</span> tmpl<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">&quot;input[name=email]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
        
        borderCollection<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>no<span class="token punctuation">:</span> noVal<span class="token punctuation">,</span> name<span class="token punctuation">:</span> nameVal<span class="token punctuation">,</span> email<span class="token punctuation">:</span> emailVal<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//borderCollection.remove({_id:this._id});</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


</code></pre></div><h4 id="_5-프로젝트의-문제점"><a href="#_5-프로젝트의-문제점" aria-hidden="true" class="header-anchor">#</a> 5. 프로젝트의 문제점</h4> <p>mongDB를 사용하는데 호출하는 부분이 client인데
이게 mongDB를 서버에서 사용한다고는 하지만 클라이언트측의 mini mongoDB를 사용하여
서버에서 클라이언트측과 내부적으로 구독(클라 -&gt; 서버 요청)/발행(서버-&gt;클라 데이터 전송)하여 sync를 맞추기때문인데 현재까지 소스에서는 구독/발행 하는 소스가 없었는데 되는 이유는 autopublish 패키지가 자동으로 되어 있어 구독/발행이 자동으로 이루어진 것이다. 자동으로 이루어지기 때문에 서버측 mongoDB의 데이터 전부가 클라이언트 mini mongoDB로 전송되기 때문에 이는 보안으로 엄청난 문제이다.
따라서 autopublish를 삭제하고 수동으로 관리를 해야한다.
meteor list (autopublish 존재 확인)-&gt; meteor remove autopublish (autopublish 삭제)</p> <img src="/devstudy/assets/img/mongoDB.296e0d81.png"> <h4 id="_6-수정소스"><a href="#_6-수정소스" aria-hidden="true" class="header-anchor">#</a> 6. 수정소스</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code>client js 추가

<span class="token comment">//구독 소스 insert나 remove에 대해선 따로 구현이 필요없음.</span>
Template<span class="token punctuation">.</span>border<span class="token punctuation">.</span><span class="token function">onCreated</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">&quot;borderCollection&quot;</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


server js

<span class="token comment">//발행 소스</span>
<span class="token comment">//obj 조건으로 주어 전체 데이터가 아닌 페이지에 보여줄 데이터만 client에 전한다 </span>
Meteor<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">&quot;borderCollection&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> condition <span class="token operator">=</span> obj <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    
    <span class="token keyword">return</span> borderCollection<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>condition<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/devstudyy/devstudy/edit/master/docs/been/meteor.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">6/6/2019, 3:18:33 PM</span></div></div> <!----> </div> <!----></div></div>
    <script src="/devstudy/assets/js/app.fccfb1f1.js" defer></script><script src="/devstudy/assets/js/4.24fb08a8.js" defer></script>
  </body>
</html>
